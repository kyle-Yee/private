<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.dcits.govsbu.sd.taxbankplatform.taxauthority.mapper.TaxAuthorityMapper" >
<cache type="org.mybatis.caches.ehcache.LoggingEhcache"/> 
  <resultMap id="BaseResultMap" type="com.dcits.govsbu.sd.taxbankplatform.taxauthority.model.TaxAuthorityEntity" >
    <id column="tax_id" property="id" />
    <result column="tax_name" property="taxName" />
    <result column="tax_prc_id" property="taxPrcId" />
    <result column="tax_is" property="taxIs" />
    <result column="enabled" property="enabled" />
  </resultMap>
  <sql id="Base_Column_List" >
    tax_id, tax_name, tax_prc_id, tax_is, enabled
  </sql>
  <!-- 根据选中的记录查询数据 -->
  <select id="findById" resultMap="BaseResultMap" parameterType="String">
    select 
    <include refid="Base_Column_List" />
    from tb_tax_authority_code
    where tax_id = #{id}
  </select>
  
  <!-- 插入数据 -->
  <insert id="insert" parameterType="com.dcits.govsbu.sd.taxbankplatform.taxauthority.model.TaxAuthorityEntity" >
    insert into tb_tax_authority_code (tax_id, tax_name, tax_prc_id, 
      tax_is, enabled)
    values (#{id}, #{taxName}, #{taxPrcId}, 
      #{taxIs}, #{enabled})
  </insert>
  
  <!-- 搜索数据 -->
	<select id="queryListByPage" parameterType="map" resultMap="BaseResultMap" flushCache="true" useCache="true">
		 select 
		    <include refid="Base_Column_List" />
		    from tb_tax_authority_code
		<where>
			<if test="taxName != null and taxName != ''">
				tax_name LIKE CONCAT('%','${taxName}','%' )
			</if>
		</where>
	</select>
  <!-- 更新数据 -->
  <update id="update" parameterType="com.dcits.govsbu.sd.taxbankplatform.taxauthority.model.TaxAuthorityEntity" >
    update tb_tax_authority_code
    set tax_name = #{taxName},
      tax_prc_id = #{taxPrcId},
      tax_is = #{taxIs},
      enabled = #{enabled}
    where tax_id = #{id}
  </update>
  
  <!-- 删除数据 -->
	<delete id="deleteBatchById" parameterType="list">
		<![CDATA[  
       delete from tb_tax_authority_code where tax_id in
    	]]>  
	    <foreach collection="list" item = "id" open="(" separator="," close=")">
	    #{id}  
	    </foreach>  
	</delete>
  
  <select id="queryListAll" parameterType="map" resultMap="BaseResultMap" flushCache="true" useCache="true">
		select tax_id,
		tax_name,
		tax_prc_id,
		tax_is,
		enabled
		from tb_tax_authority_code 
		ORDER BY tax_id
	</select>
</mapper>